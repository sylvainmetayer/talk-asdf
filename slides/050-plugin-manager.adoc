== Gérer vos plugins... avec un plugin ?

https://github.com/asdf-community/asdf-plugin-manager

image::inception.webp[alt="Inception"]

=== Pourquoi ?

// https://github.com/sylvainmetayer/asdf-sops-evil/commit/ef3a7bc8781d61a9bc3c33e37b118f62e73ab37e

TODO Diagram plugin-evil-sops

[.notes]
****
- Contrôle sur la provenance des plugins
- Facilité d'installation des plugins pour usage interne
- Maitrise des montées de versions
****

=== Comment ?

installation plugin

=== .plugin-versions

=== Tout d'abord, définir

[%linenums,source,bash]
----
# ou dans votre projet
asdf info | grep 'INSTALLED PLUGINS:' -A 100 | sed 1,2d > .plugin-versions


asdf-plugin-manager export
# equivalent à
bat .plugin-versions

----

=== Usage

asdf-plugin-manager add-all
asdf-plugin-manager update-all

=== Limite

[WARNING]
https://github.com/asdf-community/asdf-plugin-manager/issues/48

Add `export ASDF_PLUGIN_MANAGER_ADD_CLEAN=true` to your bashrc if you intend/want to ensure different remote are updated.

=== Démo

[source,bash]
----
./3-plugin-manager-demo.sh
----

